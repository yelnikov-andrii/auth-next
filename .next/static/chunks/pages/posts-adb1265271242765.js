(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{1945:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts",function(){return s(387)}])},8139:function(e,t,s){"use strict";var n=s(5893),i=s(7294),o=s(1664),l=s.n(o),c=s(2293),r=s(155),h=s(5861),u=s(2630),a=s(2722),d=s(1163);t.Z=()=>{let{isAuthenticated:e,name:t,setIsAuthenticated:s}=(0,i.useContext)(a.AuthContext),o=(0,d.useRouter)();return(0,n.jsx)(c.Z,{position:"static",children:(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(h.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"My App"}),(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/",legacyBehavior:!0,children:(0,n.jsx)(u.Z,{component:"a",color:"inherit",children:"Home"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/login",legacyBehavior:!0,children:(0,n.jsx)(u.Z,{component:"a",color:"inherit",children:e?"Welcome, ".concat(t,"!"):"Login"})})}),e&&(0,n.jsx)("li",{children:(0,n.jsx)(u.Z,{color:"inherit",onClick:()=>{s(!1),o.push("/login")},children:"Logout"})})]})})]})})}},387:function(e,t,s){"use strict";s.r(t);var n=s(5893),i=s(7294),o=s(5861),l=s(6154),c=s(1163),r=s.n(c),h=s(2722),u=s(8667),a=s.n(u),d=s(8139);t.default=()=>{let[e,t]=(0,i.useState)([]),{isAuthenticated:s,name:c}=(0,i.useContext)(h.AuthContext),[u,p]=(0,i.useState)(0),[x,_]=(0,i.useState)(!1),j=(0,i.useRef)(null),f=(0,i.useRef)(null);i.useEffect(()=>{!1===s&&r().push("/login")},[s]),(0,i.useEffect)(()=>{m()},[u]);let m=()=>{_(!0),l.Z.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:10,_page:u}}).then(s=>{t([...e,...s.data]),_(!1)}).catch(e=>console.log(e))};return console.log(u),(0,i.useEffect)(()=>{f.current=new IntersectionObserver(e=>{e[0].isIntersecting&&p(e=>e+1)}),f.current.observe(j.current)},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)(d.Z,{}),(0,n.jsxs)(o.Z,{className:a().title,children:["Welcome, ",c]}),(0,n.jsx)(o.Z,{variant:"h5",children:"Posts:"}),(0,n.jsx)("ul",{className:a().postList,children:e.map((e,t)=>(0,n.jsx)("li",{className:a().postItem,children:(0,n.jsx)("span",{className:a().title,children:e.title})},e.id))}),(0,n.jsx)("div",{ref:j,style:{height:"1px"}}),x&&(0,n.jsx)("div",{children:"Loading..."})]})}},8667:function(e){e.exports={postItem:"posts_postItem__5ZaCM",title:"posts_title__NHThA",postList:"posts_postList____51i"}}},function(e){e.O(0,[877,154,774,888,179],function(){return e(e.s=1945)}),_N_E=e.O()}]);