(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{1945:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts",function(){return t(387)}])},8139:function(e,s,t){"use strict";var n=t(5893),i=t(7294),o=t(1664),l=t.n(o),c=t(2293),r=t(155),h=t(5861),a=t(2630),u=t(1939),d=t(1163);s.Z=()=>{let{isAuthenticated:e,name:s,setIsAuthenticated:t}=(0,i.useContext)(u.V),o=(0,d.useRouter)();return(0,n.jsx)(c.Z,{position:"static",children:(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(h.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"My App"}),(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/",legacyBehavior:!0,children:(0,n.jsx)(a.Z,{component:"a",color:"inherit",children:"Home"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/login",legacyBehavior:!0,children:(0,n.jsx)(a.Z,{component:"a",color:"inherit",children:e?"Welcome, ".concat(s,"!"):"Login"})})}),e&&(0,n.jsx)("li",{children:(0,n.jsx)(a.Z,{color:"inherit",onClick:()=>{t(!1),o.push("/login")},children:"Logout"})})]})})]})})}},387:function(e,s,t){"use strict";t.r(s);var n=t(5893),i=t(7294),o=t(5861),l=t(6154),c=t(1163),r=t.n(c),h=t(1939),a=t(8667),u=t.n(a),d=t(8139);s.default=()=>{let[e,s]=(0,i.useState)([]),{isAuthenticated:t,name:c}=(0,i.useContext)(h.V),[a,p]=(0,i.useState)(0),[x,_]=(0,i.useState)(!1),j=(0,i.useRef)(null),f=(0,i.useRef)(null);i.useEffect(()=>{!1===t&&r().push("/login")},[t]),(0,i.useEffect)(()=>{m()},[a]);let m=()=>{_(!0),l.Z.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:10,_page:a}}).then(t=>{s([...e,...t.data]),_(!1)}).catch(e=>console.log(e))};return console.log(a),(0,i.useEffect)(()=>{f.current=new IntersectionObserver(e=>{e[0].isIntersecting&&p(e=>e+1)}),f.current.observe(j.current)},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)(d.Z,{}),(0,n.jsxs)(o.Z,{className:u().title,children:["Welcome, ",c]}),(0,n.jsx)(o.Z,{variant:"h5",children:"Posts:"}),(0,n.jsx)("ul",{className:u().postList,children:e.map((e,s)=>(0,n.jsx)("li",{className:u().postItem,children:(0,n.jsx)("span",{className:u().title,children:e.title})},e.id))}),(0,n.jsx)("div",{ref:j,style:{height:"1px"}}),x&&(0,n.jsx)("div",{children:"Loading..."})]})}},8667:function(e){e.exports={postItem:"posts_postItem__5ZaCM",title:"posts_title__NHThA",postList:"posts_postList____51i"}}},function(e){e.O(0,[877,154,774,888,179],function(){return e(e.s=1945)}),_N_E=e.O()}]);